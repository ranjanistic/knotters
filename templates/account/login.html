{% extends 'index.html' %}
{% load static %}
{% load socialaccount %}

{% block title %}Login{% endblock %}

{% block nav_icon %}
  <button class="primary"><i class="material-icons">arrow_back</i></button>
{% endblock %}
{% block nav_text %}Login{% endblock %}
{% block nav_auth_links %}{% endblock %}
{% block nav_auth_login %}{% endblock %}

{% block content %}
<div class="w3-row w3-padding w3-center tertiary">
	<h4>Let's solve our problems, together.</h4>
</div>
<br/>
<div class="w3-row w3-padding w3-center">
	<div class="w3-col w3-quarter w3-padding"></div>
	<div class="w3-col w3-half  accent pallete">
		<div class="w3-row">
			<a href="/accounts/google/login/?method=oauth2&next=/redirector?n={{request.GET.next}}">
				<button class="primary w3-padding">
					<img src="{% static 'graphics/thirdparty/google.png' %}" width="25" />
					Continue via Google
				</button>
			</a>
			<a href="/accounts/github/login/?method=oauth2&next=/redirector?n={{request.GET.next}}">
				<button class="secondary w3-padding">
					<img src="{% static 'graphics/thirdparty/github-dark.png' %}" width="25" />
					Continue via Github
				</button>
			</a>
		</div>
		<form method="POST" action="{% url 'account_login' %}">
			{% csrf_token %}
			<br/>
			<h3>or use your Knotters account</h3>
			<br/>
			<div class="w3-row">
			<input type="text" name="login" placeholder="Email address" autocomplete="email" autofocus="autofocus" maxlength="150" required id="id_login" />
			<br/><br/>
			<input type="password" name="password" placeholder="Password" required id="id_password" />
			</div>
			<br/>
			<button class="positive" type="submit"><i class="material-icons">login</i>Sign In</button>
			<a href="{% url 'account_reset_password' %}"><button type="button" class="primary"><i class="material-icons">help</i>Forgot?</button></a>
			<input type="hidden" name="next" value="/redirector?n={{request.GET.next}}" />
		</form>
		<br/>
		<a href="/accounts/signup?next={{request.GET.next}}">
		<button class="primary">
		<i class="material-icons">person_add</i>Create an account
		</button>
		</a>
	</div>
</div>
<br/>
{% block errors %}
<div class="w3-row w3-padding negative-text w3-center">
{% if form.errors %}
	{% for field in form %}
		{% for error in field.errors %}
			<div class="alert alert-error">
				<strong>{{ error|escape }}</strong>
			</div>
		{% endfor %}
	{% endfor %}
	{% for error in form.non_field_errors %}
		<div class="alert alert-error">
			<strong>{{ error|escape }}</strong>
		</div>
	{% endfor %}
{% endif %}
{% endblock %}
</div>
{% endblock %}