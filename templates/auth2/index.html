{% extends 'account/index.html' %}
{% load static %}
{% load i18n %}
{% load l10n %}
{% load tz %}
{% load cache %}
{% load custom_tags %}

{% block themecolor %}{{ request.user.profile.theme }}{% endblock %}

{% block nav_href %}{{request.user.profile.get_link}}{% endblock %}

{% block nav_back_show %}{% endblock %}
{% block nav_icon_hide %}{% endblock %}

{% block nav_back_theme %}{{request.user.profile.text_theme}} primary{% endblock %}

{% block nav_style %}{{ request.user.profile.theme }}{% endblock %}
{% block nav_text_style %}{{ request.user.profile.text_theme }}{% endblock %}


{% block nav_auth_user %}
    <a href="{% url 'account_logout' %}?next={{request.path}}"><button class="negative" data-icon="logout"><span class="w3-hide-small">{% trans "Logout" %}</span></button></a>
{% endblock %}

{% block content%}
<br/>
<div class="w3-row w3-center">
    <a href="{{request.user.profile.get_link}}">
        <img src="{{request.user.profile.get_dp}}" class="w3-card w3-circle xyz-in" width="100" style="border:4px solid var(--{{request.user.profile.theme}})" alt="{{request.user.get_name}}" />
    </a>
        <h4>{{request.user.get_name}}</h4>
    <strong class="text-medium dead-text">{{request.user.email}}</strong>
</div>
<br/>
<div class="w3-row w3-center">
    <button class="auth-nav-tab" id="account" data-icon="manage_accounts"><span class="w3-hide-small">Account</span></button>
    <button class="auth-nav-tab" id="device" data-icon="devices"><span class="w3-hide-small">Device</span></button>
    <button class="auth-nav-tab" id="security" data-icon="security"><span class="w3-hide-small">Security</span></button>
    <button class="auth-nav-tab" id="preference" data-icon="tune"><span class="w3-hide-small">Preference</span></button>
</div>
<div class="w3-row">
    <div id="tabview"></div>
</div>
<br/>
{% endblock %}

{% block in_scripts %}
<script>
    const tabindex = (Number("{{request.GET.tab}}"||-2)>-1)?Number("{{request.GET.tab}}"): false;
    initializeTabsView({
        onEachTab: async (tab) => {
            return await getRequest2({path:setUrlParams(URLS.TAB_SECTION, tab.id)});
        },
        activeTabClass: "{{request.user.profile.theme}}" == 'tertiary'? 'positive':"{{request.user.profile.theme}}",
        inactiveTabClass: "{{request.user.profile.text_theme}}"=="positive-text"? "primary {{request.user.profile.text_theme}}": "primary text-primary",
        uniqueID: "authtab",
        tabindex,
        tabsClass: "auth-nav-tab",
        onShowTab: async (tab) => {

            
            
        },
    });
</script>
{% endblock %}

{% block ext_scripts %}
{% endblock %}
