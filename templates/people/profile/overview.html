{% with profile=person.profile%}
<div class="w3-row w3-padding">
    <div class="w3-row">
        <div class="w3-col w3-half w3-center">
            <center><h1>{% if profile.xp %}{{profile.xp}}{% else %}0{% endif %} XP</h1></center>
            <div id="view-profiletopics">
            {% for topic in profile.topics.all %}
            Interested in <button>{{topic.name}}</button>
            {% empty %}
            {% endfor %}
            {% if self and profile.topics.all.count < 5 %}
            <button class="big-button accent edit-action" data-edittarget="profiletopics" data-icon="add">Add topics</button>
            {% else %}
            <br/>
                <h2>No topics yet.</h2>
            {% endif %}
            </div>
            {% if self %}
            <div class="" id="edit-profiletopics">
                {% for topic in allTopics %}
                    <button class="positive" data-icon="add">{{topic.name}}</button>
                    <br/>
                    <button id="save-edit-profiletopics">Save</button>
                    <button id="discard-edit-profiletopics">Cancel</button>
                {% empty %}
                    <br/>
                    <br/>
                    <h4>No topics available yet.<br/>Stay tuned!</h4>
                    <br/>
                    <button hidden id="save-edit-profiletopics">Save</button>
                    <button id="discard-edit-profiletopics">Cancel</button>
                {% endfor %}
            </div>
            {%endif%}
        </div>
        <div class="w3-col w3-half w3-center">
            <br/>
            <canvas id="myChart" class="chart-view" data-type="line" height="220"></canvas>
        </div>
    </div>
</div>
{% endwith %}